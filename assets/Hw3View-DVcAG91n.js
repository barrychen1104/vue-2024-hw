import{o as s,c as o,F as m,d as $,f as w,a as t,t as c,w as x,g as q,h as b,r as p,i as g,j as k,v as T}from"./index-ozRDJ2BE.js";const S={class:"list-group"},V=["onClick"],F={class:"d-flex w-100 justify-content-between"},R={class:"mb-1"},D={class:"mb-1"},j={__name:"ProductList",props:["products"],emits:["addToCart"],setup(_,{emit:d}){const n=_,i=d;return(u,y)=>(s(),o("div",S,[(s(!0),o(m,null,$(n.products,e=>(s(),o("a",{key:e.id,href:"#",class:"list-group-item list-group-item-action",onClick:w(a=>i("addToCart",e),["prevent"])},[t("div",F,[t("h5",R,c(e.name),1),t("small",null,"$"+c(e.price),1)]),t("p",D,c(e.description),1)],8,V))),128))]))}},B={class:"table"},M=t("thead",null,[t("tr",null,[t("th",{scope:"col",width:"50"},"操作"),t("th",{scope:"col"},"品項"),t("th",{scope:"col"},"描述"),t("th",{scope:"col",width:"90"},"數量"),t("th",{scope:"col"},"單價"),t("th",{scope:"col"},"小計")])],-1),N=["onClick"],P=["onUpdate:modelValue"],U=["value"],L={__name:"CartTable",props:["cart"],emits:["removeFromCart"],setup(_,{emit:d}){const n=_,i=d;return(u,y)=>(s(),o("table",B,[M,t("tbody",null,[(s(!0),o(m,null,$(n.cart,e=>(s(),o("tr",{key:e.id},[t("td",null,[t("button",{type:"button",class:"btn btn-sm",onClick:a=>i("removeFromCart",e)},"x",8,N)]),t("td",null,c(e.name),1),t("td",null,[t("small",null,c(e.description),1)]),t("td",null,[x(t("select",{class:"form-select","onUpdate:modelValue":a=>e.quantity=a},[(s(),o(m,null,$(10,a=>t("option",{key:a,value:a},c(a),9,U)),64))],8,P),[[q,e.quantity]])]),t("td",null,"$"+c(e.price),1),t("td",null,"$"+c(e.price*e.quantity),1)]))),128))])]))}},O={class:"card-body"},Q={class:"card-title"},A=t("h5",null,"訂單",-1),E={class:"table"},H=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"品項"),t("th",{scope:"col"},"數量"),t("th",{scope:"col"},"小計")])],-1),z={class:"text-end"},G={class:"text-end"},I={__name:"OrderDetails",props:["order","orderSum","orderRemark"],setup(_){const d=_;return(n,i)=>(s(),o("div",O,[t("div",Q,[A,t("table",E,[H,t("tbody",null,[(s(!0),o(m,null,$(d.order,u=>(s(),o("tr",{key:u.id},[t("td",null,c(u.name),1),t("td",null,c(u.quantity),1),t("td",null,c(u.totalPrice),1)]))),128))])]),t("div",z,[b(" 備註: "),t("span",null,c(d.orderRemark),1)]),t("div",G,[t("h5",null,[b(" 總計: "),t("span",null,"$"+c(d.orderSum),1)])])])]))}},J={id:"root"},K={class:"container mt-5"},W={class:"row"},X={class:"col-md-4"},Y={class:"col-md-8"},Z={key:0},tt={class:"text-end mb-3"},et={class:"text-end"},st={key:1},ot=t("h5",{class:"text-center"},"請選擇商品",-1),nt=[ot],ct=t("hr",null,null,-1),lt={key:0,class:"row justify-content-center"},rt={class:"col-8"},at={key:1},dt=t("h5",{class:"text-center"},"目前無訂單",-1),it=[dt],_t={__name:"Hw3View",setup(_){const d=p([{id:1,name:"珍珠奶茶",description:"香濃奶茶搭配QQ珍珠",price:50},{id:2,name:"冬瓜檸檬",description:"清新冬瓜配上新鮮檸檬",price:45},{id:3,name:"翡翠檸檬",description:"綠茶與檸檬的完美結合",price:55},{id:4,name:"四季春茶",description:"香醇四季春茶，回甘無比",price:45},{id:5,name:"阿薩姆奶茶",description:"阿薩姆紅茶搭配香醇鮮奶",price:50},{id:6,name:"檸檬冰茶",description:"檸檬與冰茶的清新組合",price:45},{id:7,name:"芒果綠茶",description:"芒果與綠茶的獨特風味",price:55},{id:8,name:"抹茶拿鐵",description:"抹茶與鮮奶的絕配",price:60}]),n=p([]),i=p([]),u=l=>{const r=n.value.find(v=>v.name===l.name);r?r.quantity++:n.value.push({...l,quantity:1,id:new Date().getTime()})},y=l=>{n.value=n.value.filter(r=>r.id!==l.id)},e=g(()=>n.value.reduce((l,r)=>l+r.price*r.quantity,0)),a=p(0),h=p(""),f=p(""),C=()=>{i.value=n.value.map(l=>({name:l.name,quantity:l.quantity,totalPrice:l.price*l.quantity})),a.value=e.value,f.value=h.value,h.value="",n.value=[]};return(l,r)=>(s(),o("div",J,[t("div",K,[t("div",W,[t("div",X,[k(j,{products:d.value,onAddToCart:u},null,8,["products"])]),t("div",Y,[k(L,{cart:n.value,onRemoveFromCart:y},null,8,["cart"]),n.value.length>0?(s(),o("div",Z,[t("div",tt,[t("h5",null,[b(" 總計: "),t("span",null,"$"+c(e.value),1)])]),x(t("textarea",{class:"form-control mb-3",rows:"3",placeholder:"備註","onUpdate:modelValue":r[0]||(r[0]=v=>h.value=v)},null,512),[[T,h.value]]),t("div",et,[t("button",{class:"btn btn-primary",onClick:r[1]||(r[1]=v=>C())},"送出")])])):(s(),o("div",st,nt))])]),ct,i.value.length>0?(s(),o("div",lt,[t("div",rt,[k(I,{order:i.value,orderSum:a.value,orderRemark:f.value},null,8,["order","orderSum","orderRemark"])])])):(s(),o("div",at,it))])]))}};export{_t as default};
